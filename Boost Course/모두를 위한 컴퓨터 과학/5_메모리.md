___
# 메모리
### 1. 포인터
- C에서는 변수의 메모리상 주소를 받기 위해 ‘&’이라는 연산자를 사용할 수 있습니다.
```cpp
#include <stdio.h>

int main(void)
{
    int n = 50;
    printf("%p\n", &n);
}
```  
```cpp
0x7ffe00b3adbc
```  
- 반대로 ‘*’를 사용하면 그 메모리 주소에 있는 실제 값을 얻을 수 있습니다.
```cpp
#include <stdio.h>

int main(void)
{
    int n = 50;
    printf("%i\n", *&n);
}
```
```cpp
50
```  
- 정리하면, `'&'`는 변수의 메모리상 주소를 가져오고, `'*'`는 그 주소로 갑니다.
___
<br>

- `*p`라는 포인터 변수에 &n 이라는 값, 즉 변수 n의 주소를 저장합니다.  
int *p 에서 p앞의 *는 이 변수가 포인터라는 의미이고,  
int 는 이 포인터가 int 타입의 변수를 가리킨다는 의미입니다.
```cpp
#include <stdio.h>

int main(void)
{
   int n = 50;
   int *p = &n;
   printf("%p\n", p);
   printf("%i\n", *p);
}
```
```cpp
0x7ffe00b3adbc
50
```
___
### 2. 문자열(String)
- 문자열은 사실 없는 자료형인데 CS50 라이브러리에서 선언을 해줬기 때문에 사용할 수 있었습니다.
```cpp
typedef char *string
```
- 다시 말하면, string 자료형은 char 포인터를 이용한 구조입니다.  
아래 두 예시는 결국 같습니다.
```cpp
#include <cs50.h>
#include <stdio.h>

int main(void)
{
    string s = "EMMA";
    printf("%s\n", s);
}
```  
```cpp
#include <stdio.h>

int main(void)
{
    char *s = "EMMA";
    printf("%s\n", s);
}
```  
___
### 3. 메모리 동적 할당(malloc)
- 만약 문자열을 다른 문자열 변수에 똑같이 복사하고 싶다면 어떻게 해야 할까요?
```cpp
#include <cs50.h>
#include <ctype.h>
#include <stdio.h>

int main(void)
{
    string s = get_string("s: ");
    string t = s;

    t[0] = toupper(t[0]);

    printf("s: %s\n", s);
    printf("t: %s\n", t);
}
```
```cpp
s: emma
Emma
Emma
```
- s를 t에 똑같이 복사해서 첫 글자만 대문자로 바꿨는데 s와 t 둘다 대문자로 변했습니다.  
그 이유는 t가 s의 주소값을 복사해서 같은 주소값을 참조하기 때문입니다.  
따로 변수에 문자열 내용을 복사하려면 그에 해당하는 메모리를 동적으로 할당하여 복사를 해줘야합니다.
```cpp
#include <cs50.h>
#include <ctype.h>
#include <stdio.h>
#include <string.h>

int main(void)
{
    char *s = get_string("s: ");
    char *t = malloc(strlen(s) + 1);

    for (int i = 0, n = strlen(s); i < n + 1; i++)
    {
        t[i] = s[i];
    }

    t[0] = toupper(t[0]);

    printf("s: %s\n", s);
    printf("t: %s\n", t);
}
```
```cpp
s: emma
emma
Emma
```
- 위 코드에서는 s라는 문자열을 입력받아 문자열 t에 그만큼의 메모리를 동적 할당(malloc)시켰습니다.  
문자열 s의 길이에 1을 더한 이유는 null값 까지 저장해줘야 하기 때문입니다.  
이렇게 새롭게 동적 할당한 메모리에 문자열 s가 복사되었습니다.
___